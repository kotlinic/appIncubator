

- 组件：分为两部分，组件本身 和 对外暴露API
- 基础库：底层库，无需进行API隔离，可直接被其它 基础库&组件依赖, 比如一些model、rxjava、base-view等
- 业务组件库之间可以通过api来使用双方的能力, 偏业务的公共组件，比如分享，可以依赖网络这种公共组件
- api库原则上只能看到自己
- 组件化过渡期间，为了避免各种aar频繁升级带来的版本管理工作量，我们倾向于前期在aweme主库创建若干个组件目录，等后续组件趋于稳定了之后，再迁移到新的独立仓库进行git管理。


## API库设计原则

- 公共组件API & 依赖关系需要Review Group对设计方案进行Review；
- 公共组件API在开发完成后【业务替换前】需要Review Group对结果进行Review。
- API库原则上不能依赖其它库或者第三方库；如果需要依赖，请使用implementation来隔绝依赖向上传递；
- API库不能依赖其它API库；
- API库需要秉承简单易用原则，需要尽量控制API接口中的方法个数；如果组件需要对外暴露较多能力，可以通过多个接口进行职责分离；
- API库优先使用接口对外暴露调用，尽量避免直接对外暴露类来使用；
- API 库中只能包含接口中直接依赖的类和需要对外部暴露的类，其它内容都不应该出现在API库中

## 4.2 组件库 & 基础库设计原则

- 不可替代的基础SDK或者第三方SDK，可以直接按照基础库来用，比如apm，npth等
- 有多个实现库可选的，建议做成基础能力组件，抽象出接口。未来可以方便替换实现库
- 原则上组件需要实现功能闭环，不依赖外部调度也能正常work；


## 拆Module vs 拆独立Git仓库（待讨论）

- 组件拆分可以以细粒度的Module进行
- Git仓库按业务线聚拢，方便业务开发
- 大部分的需求应该在单仓内解决
- 可以先拆除Module，再过度到独立仓库